---
title: "Case Study: Reducing Readmission"
---

```{r setup, include=FALSE, warning=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Problem

---DESCRIBE THE PROBLEM STATEMENT HERE---

# Examples of Relevant Measures

--DESCRIBE HOW THEY WOULD SELECT THEIR MEASURES--

+-----------------------+----------------------------------+---------------------------+
| Measure Type          | Example                          | Where data could be found |
+=======================+==================================+===========================+
| **Outcome Measure**   | -   Length of Stay               | -   Administrative data   |
|                       |                                  |                           |
|                       | -   Cost                         | -   Hospital Financials   |
+-----------------------+----------------------------------+---------------------------+
| **Process Measure**   | -   Discharge summary completion | -   Direct observation    |
|                       |                                  |                           |
|                       | -   Medication Reconciliation    | -   EMR Chart Review      |
+-----------------------+----------------------------------+---------------------------+
| **Structure Measure** | -   Number of case managers      | -   HR database           |
+-----------------------+----------------------------------+---------------------------+
| **Balancing Measure** | -   Readmission                  | -   Registry data         |
+-----------------------+----------------------------------+---------------------------+

# **Cause and Effect Diagram**

--DESCRIBE HOW YOU GET THE DATA FOR A CAUSE AND EFFECT DIAGRAM--

```{r}
library("SixSigma")

effect <- "Reduced Length of Stay"
causes.gr <- c("Materials", "Methods", "Equipment", "Environment", "People")
causes <- vector(mode = "list", length = length(causes.gr))
causes[1] <- list(c("Unavailable Home Equipment", "Delayed Transportation", "Incomplete Orders"))
causes[2] <- list(c("Lack of Streamlined Clinical Pathway", "Insufficient Number of Personnel", "Delayed Coordination of Discharge"))
causes[3] <- list(c("Insufficient Home Supplies", "Pager Malfunction"))
causes[4] <- list(c("Missed or Inaccurate Information", "Inconsistent Discharge Rounds", "Inadequate Team Coordination"))
causes[5] <- list(c("Missing or Illegible Physician Order", "Heavy Workload for Discharge Cases", "Unavailable or Conflicting Work Times"))
ss.ceDiag(effect, causes.gr, causes, sub = "Reduction of Length of Stay Following Lower-Extremity Revascularization")
```

# **Pareto Chart**

--DESCRIBE HOW THEY WOULD GET THE DATA FOR THE PARETO CHART

+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Delay Type                                                                                         | Count   | \%      | Cum%  |
+====================================================================================================+=========+=========+=======+
| Delay in securing transportation to or placement in planned discharge disposition                  | 76      | 46      | 46    |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Delay in coordinating discharge planning with allied healthcare workers, patient, patient's family | 33      | 20      | 66    |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Delay in receiving services or equipment for discharge                                             | 24      | 14      | 80    |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Delay in recognizing discharge needs                                                               | 17      | 10      | 90    |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Delay in diagnostic tests or consultation service                                                  | 10      | 6       | 96    |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| Completion or exacerbation of comorbidities                                                        | 5       | 4       | 100   |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+
| **Total**                                                                                          | **165** | **100** |       |
+----------------------------------------------------------------------------------------------------+---------+---------+-------+

```{r, warning=FALSE}

# I changed the code in the data vis tutorial.  Take a look at the changes I made and see if you agree with them.  We should use the same code but just change the numbers

library("qcc")
df <- data.frame(delay.type=c('A', 'B', 'C', 'D', 'E', 'F'))
df$frequency = c(76, 33, 24, 17, 10, 5)
df

pareto.chart(df$frequency,
             main='Pareto Chart',
             xlab='Delay Type',
             col=heat.colors(length(df$frequency))
)

```

# **Driver Diagram**

--DESCRIBE HOW TO TAKE THE DATA FROM THE PARETO CHART AND ORGANIZE INTO A DRIVER DIAGRAM--

```{r}
library(DiagrammeR)

DiagrammeR::grViz("digraph {

graph [layout = dot, rankdir = LR]

# define the global styles of the nodes. We can override these in box if we wish
node [shape = rectangle, style = filled, fillcolor = Linen]

aim [label = 'Reduce length \n 
              of hospital stay to < 7 days \n 
              following lower-extremity \n 
              revascularization']
pd1 [label = 'Delay in Postoperative Care']
pd2 [label = 'Delay in Discharge Planning']
sd1 [label = 'Exacerbation of comorbidities \n
              extending hospitalization']
sd2 [label = 'Delay in obtaining diagnostic \n
              tests or consultation service \n
              postoperatively']
sd3 [label = 'Delay in recognizing \n
              discharge needs']
sd4 [label = 'Delay in receiving services or \n
              equipment necessary for discharge']
sd5 [label = 'Delay in securing transport or \n
              placement in planned discharge disposition']
ci1 [label = 'Include and follow form on \n
              optimization and postoperative \n
              care as per preoperative consultation']
ci2 [label = 'Coordinate with team of \n
              specialists and communicate \n
              with technicians on postoperative \n
              day one to obtain necessary \n
              consultations and tests \n
              prior to discharge']
ci3 [label = 'Coordinate with multidisciplianry \n
              team during rounds on medication review, \n
              family meetings, home environment assessment, \n
              and discharge referrals']
ci4 [label = 'Coordinate with nursing and \n
              discharge case managers during rounds']
ci5 [label = 'Coordinate with discharge case \n
              managers and family members or \n
              guardians during rounds']

# edge definitions with the node IDs
aim -> {pd1 pd2}
pd1 -> {sd1 sd2}
pd2 -> {sd3 sd4 sd5}
sd1 -> ci1
sd2 -> ci2
sd3 -> ci3
sd4 -> ci4
sd5 -> ci5
}")

```

# **Run Chart**

---DESCRIBE HOW AND WHEN THEY WOULD USE THE RUN CHART---

```{r}

library("qicharts2")

# I think we should change this to put in the data manually based on how it was collected.  We could even show how to manipulate and summarize the raw patient level data.

set.seed(12)
y <- rbinom (12, 20, 0.5)
n <- sample (16:20, 12, replace = TRUE)

date <- seq(as.Date("2023/01/01"),
            as.Date("2023/12/31"),
            by = "months")

date
notes <- NA
notes[6] <- "Intervention"

qic (y, 
     n,
     x = date,
     ylab = "Proportion of Early Discharges",
     xlab = "Month",
     notes = notes)

```
